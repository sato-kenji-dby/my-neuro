《MCP功能》

如果你想要用联网搜索功能、记录日程、查天气。自定义工具等功能。可以在肥牛.exe里面
在启动标签下面，左上角把”启动MCP功能“这个选项选上。然后点击右下角的保存配置。
最后点击启动桌宠，这样就相当于打开mcp功能。则可以让肥牛使用上工具了


《打断功能》

如果不想听肥牛喋喋不休说个不停，可以使用在肥牛说话的时候按住键盘的：ctrl+G 组合按键打断肥牛说话
但是此功能还是不是特别完善。打断后还是会多说几个字的内容。后续会跟进修复

《一键替换模型皮套》

当前的live 2d 皮套模型放在2D文件夹内。默认是肥牛模型（桃濑日和）
如果想要替换live 2d模型皮套，可将"2D"文件夹里面的模型全部删除，然后粘贴为你自己的live 2d模型进去
最后运行go.bat 
系统会自动识别，无需担心。

如果觉得默认的也挺好，那就挺好。


text_database.txt文件是你的记忆数据库，你和模型交流后的记忆回储存在
这个地方，也可以手动增加，或者删除。聊天的时候系统回自动判断什么时候
记录你的内容，例如你可能说一些：帮我记录一下，明天我要去看电影、我觉得我很焦虑，感觉对未来迷茫。
等等这种内容。可能会被记录到数据库。这些数据库里面的内容，模型会永久记住。

《打字输入》

双击打开："肥牛UI.exe"
点击上方的”开场白“选框
然后点击"显示对话框"选项
最后点击保存配置。即可出现文字框。可在文字框内打字交流。无需启动ASR也能和模型对话。

ps:感谢群友空白对此功能接入


《哔哩哔哩直播》

打开配置文件：config.json

最下面的bilibili标签
修改"roomId": "B站直播房间号" 把里面的：B站直播房间号 改为你自己的直播房间ID
例如我"自负的魔方"直播ID是30230160
那这里就是
"roomId": "30230160"
改好保存。然后直接运行go.bat 即可接入B站直播。弹幕发送的最新消息会被模型接收。
同时依旧可以同时和模型语音对话聊天。模型也能区分弹幕和你两者的区别。

《主动对话V1》

此版本的主动对话功能是最基础版本。通过静默时间来控制。默认超过一分钟用户未和模型说话，且tts和
asr这些都未触发。满足这几个条件后。即触发主动对话机制。模型会自动根据上下文来主动询问或者找话题等主动
和你进行聊天。
如果在静默时间范围内和模型对话。会刷新静默时间。重新记时。

主动对话功能默认关闭，标签"auto_chat"
下面的参数："enabled": false 则为启动/关闭选项
想要开启则改为true  
其中"idle_time": 60000
则是静默时间。值为60000ms(毫秒) 也就是60秒
可自行修改静默时间

ps:这个版本的主动对话功能比较的基础。过于死板固定了。理论上我们人与人之间的交谈不会是一来一回的
回合式对话。但是也不是固定一个时间点回对方一句话。而是自己想到了什么。或者对方哪句话触动
到了自己的内心。引起了共鸣。才会想要主动多说几句。
举个例子。如果对方说了一些你感兴趣的话题。例如AI话题或者喜欢的动漫、游戏等。
这个情况下很有可能会触发你自己的“主动对话”
所以。这才是正确的触发方向。后续的主动对话如果没有更让人眼前一亮的处理办法。
则按照此逻辑开发。



----------------------------------------------------------------------------------------

开发者教程（非开发人员请忽略）

Q：为什么模型无法同时循环播放待机动作，然后正常张口闭口？
A：因为待机动画会和张口闭口动画冲突。需要去Hiyori.model3.json文件里面先禁止或者说删除所有的待机动画，才能自由控制张嘴闭嘴动画。

详解：

live 2d皮套配置文件，也就是2D文件夹里面的所有文件
其中 Hiyori.model3.json 是肥牛的基本参数配置，默认动作都会在这里修改。
Motions标签里面的Idle内，File后面就是模型的默认动作，默认动作是1号动作。其余还有9个动作，动作都在motions文件夹里面
在motions文件夹内储存着各种情绪动作。但是由于这些动作都默认绑定了嘴部的参数，导致接入tts的时候，嘴巴无法开合，所以
我把这些动作配置文件都做了修改，删除了里面所有的嘴部动作。具体来说是删除了ParamMouthForm、ParamMouthOpenY 的配置列表。
其中，删除这些后，还得在最开头的Meta标签内，CurveCoun子标签内修改还剩下的绑定参数。CurveCoun的意思就是文件中全部的肢体绑定参数。
因为删除了两个绑定参数（口型绑定）所以需要减去两个。例如CurveCoun本来是值是33，删除了两个后，就改成31

里面我依旧保留了原版的配置参数。后面带原版的就是没有做过任何处理的配置文件。




1.基于PYQT的打包UI

UI.py 更新好后。直接运行：
pyinstaller --onefile --windowed main.py

更好的打包指令：
pyinstaller --onedir --windowed --name="肥牛UI" main.py

ps:没有安装依赖记得安装：
pip install pyinstaller
pip install PyQt5











